<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Clue</title>
    <script type="text/javascript">
        // Array of video URLs
        var videoLinks = [
            "video_clues/video1.mp4",
            "video_clues/video2.mp4",
            "video_clues/video3.mp4"
        ];

        // Cooldown time to prevent video change on reload (10 minutes in milliseconds)
        var cooldownTime = 10 * 60 * 1000;

        // Function to get or set the current video index
        function getVideoIndex() {
            var lastIndex = sessionStorage.getItem('videoIndex');
            var lastTimestamp = sessionStorage.getItem('videoTimestamp');

            // If no video index exists or cooldown time has passed, assign a new video
            if (!lastIndex || (new Date().getTime() - lastTimestamp > cooldownTime)) {
                // Assign a new video index
                var newIndex = (Math.floor(Math.random() * videoLinks.length));
                sessionStorage.setItem('videoIndex', newIndex); // Save the index
                sessionStorage.setItem('videoTimestamp', new Date().getTime()); // Save the timestamp
                return newIndex;
            }

            // Return the existing index
            return lastIndex;
        }

        // On page load, set the video source to the appropriate video
        window.onload = function() {
            var videoIndex = getVideoIndex(); // Get the current video index
            var videoUrl = videoLinks[videoIndex];
            document.getElementById("video-player").src = videoUrl;
        }
    </script>

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Treasure Hunt Final Clue</h1>

    <!-- Video player to embed the video -->
    <video id="video-player" width="640" height="360" controls autoplay muted loop>
        <source src="" type="video/mp4">
        Your browser does not support the video tag.
    </video>
</body>
</html>


