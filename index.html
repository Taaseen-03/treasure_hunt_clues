<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Clue</title>
    <script type="text/javascript">
        // Array of video URLs
        var videoLinks = [
            "video_clues/video1.mp4",
            "video_clues/video2.mp4",
            "video_clues/video3.mp4"
        ];

        var totalVideos = videoLinks.length;  // Total number of videos

        // Function to generate a unique identifier for the device (used to shuffle the video selection)
        function generateDeviceId() {
            if (!sessionStorage.getItem('deviceId')) {
                // Create a random number to represent a unique ID for this device
                var deviceId = Math.floor(Math.random() * totalVideos);
                sessionStorage.setItem('deviceId', deviceId);  // Store the unique ID in sessionStorage
            }
            return sessionStorage.getItem('deviceId');
        }

        // Function to shuffle the video order based on the device's unique ID
        function assignVideoBasedOnId() {
            // Get the device's unique ID
            var deviceId = generateDeviceId();
            
            // Ensure the device ID is within the range of video indices
            var assignedIndex = deviceId % totalVideos;

            // Save the assigned video in sessionStorage for persistence
            sessionStorage.setItem('videoIndex', assignedIndex);

            return assignedIndex;
        }

        // On page load, set the video source to the appropriate video
        window.onload = function() {
            var videoIndex = assignVideoBasedOnId();  // Get the video index based on device ID
            var videoUrl = videoLinks[videoIndex];    // Get the corresponding video URL
            document.getElementById("video-player").src = videoUrl;  // Set the video source
        }
    </script>

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Treasure Hunt Final Clue</h1>

    <!-- Video player to embed the video -->
    <video id="video-player" width="640" height="360" controls autoplay muted loop>
        <source src="" type="video/mp4">
        Your browser does not support the video tag.
    </video>
</body>
</html>









